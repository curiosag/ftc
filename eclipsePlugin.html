<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>gFTC</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/github-light.css">
    <meta name="viewport" content="width=device-width">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h2>Fusion Tables Console Eclipse Plugin</h2>
        <p></p>

		<ul>
        	 <li> <a target="_blank" href="http://curiosag.github.io/ftc/ftcUpdateSite/"><strong>Update site</strong></a></li>
          <li> <a target="_blank" href="https://github.com/curiosag/ftcEclipsePlugin/tarball/master">Source Code<strong>TAR Ball</strong></a></li>
          <li> <a target="_blank" href="https://github.com/curiosag/ftcEclipsePlugin/zipball/master">Source Code<strong>ZIP Ball</strong></a></li>          
        </ul>

        <p class="view">View on <a target="_blank" href="https://github.com/curiosag/ftcEclipsePlugin"> GitHub </small></a></p>

      </header>
      
      <section>
      For an easier start with Google  <a target="_blank" href="https://developers.google.com/fusiontables/docs/v2/sql-reference">fusion tables sql</a>. Comes with the usual Eclipse code editor features including warning markers for non-existing tables and fields. You can refer to tables by name or ID, delete, rename and copy tables by sql and  export csv. Available also as <a href="http://curiosag.github.io/ftc/">stand alone application</a>  with graphical UI and command line mode.
      
     <br><br>
      
      </section>


      
 <wide_section>

<br>
    <br>
 <img src="ftcPlugin.gif" width="80%" height="80%" alt=""> 
        <p></p>

<br>
<h3>Covers</h3>

SELECT, CREATE VIEW, INSERT, UPDATE, DELETE, DESCRIBE and SHOW TABLES.
<p></p>
<h4>Table ID substitution</h4> 
For tables owned by yourself you can use table names instead of table IDs. Make sure, there are no naming collisions. A fusion tables query actually looks like <strong><em><font size="-1">SELECT * FROM 1echZ_63RosRjW43qItffBErXayC9VXFiB6quHXA6</font></em></strong>.
Instead you can use the table name for tables you own like in <em><font size="-1"><strong>SELECT * FROM Customer</font></strong></em>. View the actual query issued with menu item <strong>Fu -> View preprocessed query at cursor</strong>. Make sure, that table names are unique and there is no naming collision.

<p></p>
<h4>Extended Sql statments</h4> 
The client accepts some usual Sql terms not covered by Fusion Tables Sql and translates them to api calls. 
Fusion tables sql limits DELETE and UPDATE statements to single ROWIDs like in <strong><em><font size="-1">DELETE FROM Emp WHERE ROWID = 11038</font></em></strong>, alternatively in case of DELETE one may omit the WHERE clause altogether.
For them the client accepts the same &lt;filter_condition&gt;  in the WHERE clause  as SELECT ({ WHERE &lt;filter_condition&gt; | &lt;spatial_condition&gt; { AND &lt;filter_condition&gt; }* }). 

 <br><br>So you can use e.g. <strong><em><font size="-1">DELETE FROM Emp WHERE Salary > 11038</font></em></strong>. Such statements get broken down to as sequence of single DELETEs, each one issued separately. Note that such statements are not atomic in their execution and there is no transaction mechanism for them. Cancellation or failure leaves the data partially changed.
<br><br>Find below the definition for the extended sql syntax.

 
<br>
<br>
<br>
<h3>Get started</h3>

<h4>Google Setup</h4> 
You need  <a target="_blank" href="https://support.google.com/fusiontables">some fusion tables you own</a> or some  <a target="_blank" href="https://research.google.com/tables?hl=en&ei=xYqhVpuCJsHipQOqzLiIDw&corpus=fusion&q=dog">external table IDs</a>, a  <a target="_blank" href="https://console.developers.google.com">google developers project</a> with  <a target="_blank" href="https://console.developers.google.com/apis"> activated fusion tables api</a> and an  <a target="_blank" href="https://console.developers.google.com/apis/credentials"> <a target="_blank" href="https://console.developers.google.com/apis/credentials">OAuth2 client ID</a></a> (with application type "other") for the project. </small>


<br>
<br>

<h4>Installation</h4>

<a href="http://marketplace.eclipse.org/marketplace-client-intro?mpc_install=3170642" class="drag" title="Drag to your running Eclipse workspace to install Fusion Tables Console"><img class="img-responsive" src="https://marketplace.eclipse.org/sites/all/themes/solstice/public/images/marketplace/btn-install.png" alt="Drag to your running Eclipse workspace to install Fusion Tables Console" /></a>
<p></p>
Either drag & drop the Eclipse marketplace link above to your running Eclipse instance.<br> 
Alternatively within Eclipse go to: <strong>Help -> Install New Software...</strong> 
and enter the following update site url: <a href="http://curiosag.github.io/ftc/ftcUpdateSite">http://curiosag.github.io/ftc/ftcUpdateSite</a>
<br><br>
    <ul>

	<li>    Select the Fusion Tables Console Plug-in feature to install</li>
<li>Read the license terms and continue with OK, if you find them acceptable. Never mind, it is the unavoidable EPL.</li>
	 <li>You'll be asked about installing unsigned content. Press OK, if it is for you.</li>
<li>After installation you will be prompted for a restart of Eclipse, which is recommended</li>
</ul>

<h4>Settings</h4>

After Eclipse restarted go to <strong>Window -> Open perspective -> Other</strong> and choose the Fusion Tables perspective to enable the <strong>Fu</strong> menu entry and the <strong>Export Fu Data</strong> entry in the <strong>File</strong> menu.

<br><br>
 <img src="pluginPerspective.gif"  width="30%" height="30%" alt=""> 
        <p></p>


<p></p><strong>Choose Window -> Preferences -> Fusion Tables Console</strong>, enter client id and secret, then press <strong>Authenticate</strong>. The authentication workflow will try to open your default browser and take you through further steps. If it doesen't show up, you can find the required URL in the log pane, proceed manually in this case. If anything goes wrong with the authentication, the client waits for the defined timeout period and then cancels. In case of success the client stores the credentials and authenticates automatically in future sessions.
        <p></p>Once authenticated create a new .sql or .fts file and open it with the Fusion Tables editor. Press ctrl+space in the empty editor window for a list of top level Sql statements.
<p></p>


It is somewhat tested on Ubuntu 15, Oracle Java(TM) SE Runtime Environment (build 1.8.0_60-b27), Eclipse Luna and Mars 1+2. Requires Java 7.
<p></p>

      <h3>Extended command syntax</h3>
      
<table>
<tr><td>Command</td><td>Syntax</td><td>Comment</td></tr>
<tr><td>Rename table</td><td>ALTER TABLE [table name or ID] RENAME TO [new name]</td><td>Atomic</td></tr>
<tr><td>Delete table</td><td>DROP TABLE  [table name or ID]</td><td>Atomic</td></tr>
<tr><td>Copy table</td><td>CREATE TABLE [table name] AS SELECT * FROM [source table name or ID] </td><td>Composite: copy, rename. If rename fails, the name of the new table defaults to "Copy of [original name]"</td></tr>
<tr><td>UPDATE</td><td>UPDATE TABLE [table name or ID] &lt;filter_condition&gt; </td><td>Composite: select ROWIDs for &lt;filter_condition&gt;, 1 update per ROWID.</td></tr>
<tr><td>DELETE</td><td>DELETE FROM [table name or ID] { &lt;filter_condition&gt; }</td><td>Composite:  select ROWIDs for &lt;filter_condition&gt;, 1 delete per ROWID.</td></tr>
</table>

 <p></p>
    
<h3>Shortcuts</h3>
<table>
<tr><td>Ctrl+Alt+R</td><td>Execute query under cursor</td></tr>
<tr><td>Ctrl+Alt+A</td><td>Execute all queries sequentially</td></tr>
<tr><td>Ctrl+Alt+C</td><td>Cancel query execution</td></tr>
<tr><td>Ctrl+Alt+V</td><td>View preprocessed query</td></tr>
<tr><td>Ctrl+T</td><td>Show tables</td></tr>
</table>    
    
<h3>Limitations</h3>


Details about certain limitations of the client and the fusion tables service itself you can find with the <a href="http://curiosag.github.io/ftc/index.html#limitations">description of the standalone client</a>. 
<br>
    <br><h3>Known issues</h3>

Under certain circumstances with GTK under Linux there's a segmentation fault when Eclipse tries to access the desktop, which is precisely what the authentication workflow does. If that happens to you, please refer to the straight forward workaround in the <a href="https://bugs.eclipse.org/bugs/show_bug.cgi?id=438598">bug description</a>.
It cleared the problem for me with Mars 2, with Luna it didn't happen in the first place. 


<br>
<br>
    <br>
<h3>Credits</h3>
<a href="http://www.famfamfam.com/">Silk icon set</a> by Mark James.<br>
<em>Google Fusion Tablesâ„¢ service</em> is a trademark of Google Inc.<br>
      </wide_section>

	<div>
      <footer>
        <p>This project is maintained by  <a target="_blank" href="https://github.com/curiosag">curiosag</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by  <a target="_blank" href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>

    <script src="javascripts/scale.fix.js"></script>
    
  </body>
</html>
